      - name: Check if engineering systems were modified
        id: engineering_systems_check
        shell: pwsh
        run: |
          $filesPath = "$env:HOME\files.json"

          if (!(Test-Path $filesPath)) {
            Write-Error "files.json not found"
            exit 1
          }

          $json = Get-Content $filesPath -Raw | ConvertFrom-Json

          $patterns = @(
            '^\.github/workflows/',
            '^build/',
            '^package\.json$'
          )

          $modified = $false

          foreach ($file in $json) {
            foreach ($pattern in $patterns) {
              if ($file -match $pattern) {
                $modified = $true
                break
              }
            }
            if ($modified) { break }
          }

          if ($modified) {
            "engineering_systems_modified=true" | Out-File -FilePath $env:GITHUB_OUTPUT -Append
            Write-Host "Engineering systems were modified in this PR"
          } else {
            "engineering_systems_modified=false" | Out-File -FilePath $env:GITHUB_OUTPUT -Append
            Write-Host "No engineering systems were modified in this PR"
          }
